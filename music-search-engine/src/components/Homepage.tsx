import { InputGroup, FormControl, Row } from "react-bootstrap"
import SingleSong, { Song } from "./SingleSong"
import { useEffect, useState } from 'react'

type searchType = string | undefined

//type Song = SingleSongProps["song"]

const Homepage = () => {

    const [search, setSearch] = useState<searchType>()

    const [songs, setSongs] = useState<Song[]>()


    useEffect(() => {
        const fetchSongs = async () => {

            try {
                let response = await fetch(
                    'https://striveschool-api.herokuapp.com/api/deezer/search?q=' + search
                )
                if (response.ok) {
                    let data = await response.json()

                    setSongs(data.data)
                } else if (search === "") {

                } else {
                    alert('error in the request')
                }
            } catch (error) {
                console.log(error)
            }
        }
        fetchSongs()
    }, [search])

    return (<>
        <div className="bg-search">
            <h1 className="pt-4 text-center text-violet">- AMAZING SONGS -</h1>
            <InputGroup size="lg" className="w-50 m-auto input">
                <FormControl aria-label="Large" placeholder="Search your next amazing song..." aria-describedby="inputGroup-sizing-large" onChange={(e) => setSearch(e.target.value)} />
            </InputGroup>
            {search === undefined &&
                <img className="wait mt-5" src="data:image/jpeg;base64,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" alt="wait img"></img>}
            {songs && search !== undefined &&
                <Row className="m-auto pt-5">
                    {songs.map((song, i) => { return <SingleSong key={`song-${i}`} song={song} /> })}
                </Row>}
        </div>
    </>
    )
}

export default Homepage